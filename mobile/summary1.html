<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
    <title>IBM EB-3</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--jQuery References-->
    
    <script src="js/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="js/jquery.mobile-1.2.0.min.js" type="text/javascript"></script>

    <!--Theme-->
    <link href="css/jquery.mobile-1.3.1.css" rel="stylesheet" type="text/css" title="rocket-jqueryui">

    <!--Wijmo Widgets CSS-->
    <link href="css/jquery.wijmo-pro.all.3.20131.7.min.css" rel="stylesheet" type="text/css">

    <!--Wijmo Widgets JavaScript-->
    <script src="js/jquery.wijmo-open.all.3.20131.7.min.js" type="text/javascript"></script>
    <script src="js/jquery.wijmo-pro.all.3.20131.7.min.js" type="text/javascript"></script>
<script type="text/javascript">
//必须将pageinit的绑定放到head中，否则将触发两次加载
$(document).bind("pageinit",function(){
	//console.log("pageinit must be defined in head tag");
	$(document).bind("pagechange",afterchange1);
});
</script>
</head>
<body>
<div data-role="page" data-theme="c" id="page1" data-mini="true" data-position="fixed">
	    <link href="css/grid.css" rel="stylesheet" type="text/css">
	    <div data-role="header" data-theme="d" data-position="fixed">
                <a href="index.html" data-ajax="false" data-icon="back">Back</a>
		<h4>总体视图</h4>
            </div>
	<div data-role="content">
		<h4>原始微博内容：</h4>
		<table id="wijgrid1" style="height:450px,width:100%">
     		</table>
	</div>
	   <div data-role="footer" data-theme="d" data-position="fixed">		
		  <div data-role="navbar" data-iconpos="left">
		    <ul>
		      <li><a href="#page1" data-icon="grid" class="ui-btn-active">原始</a></li>
		      <li><a href="#page2" data-icon="star">相关</a></li>
		      <li><a href="#page3" data-icon="alert">不相关</a></li>
		    </ul>
		  </div><!-- /navbar -->

           </div>
<script type="text/javascript">
function afterchange1(e,data){
	var name="chufei";	
	var datasource1 = new wijdatasource({
					proxy: new wijhttpproxy({
						url: "http://9.181.142.107:8082/FinalDemo/AndroidController?flag=view",
						dataType: "json",
						key: "items"
					}),
					reader: new wijarrayreader([
						{ name: "用户名", mapping: function (item) { return item.nick} },
						
						{ name: "时间", mapping: function (item) { return item.time}  },
						{ name: "微博内容", mapping: function (item) { return item.text}  }
					])
				});
	$("#wijgrid1").wijgrid({
                		allowSorting: false,
                		allowPaging: true,
               			pageSize: 5,                		
				data: datasource1,
				columns: [
                    			{ allowSizing:true,textAlignment:"center",width:"8%"},
                    			{ textAlignment:"center",width:"8%" },
                    			{ aggregate:"min",allowSizing:true,textAlignment:"center",width:"80%" }
                		],
				columnsAutogenerationMode: "merge",
				showRowHeader:false,
				highlightCurrentCell: false,
				//此处控制grid中实际行数据样式
                                rowStyleFormatter: function (args) {                                        
                                	if ((args.state === wijmo.grid.renderState.rendering) && (args.type & wijmo.grid.rowType.dataAlt)) {
                                           // args.$rows.find("td").css("font-style", "italic");
						//args.$rows.find("td").css('color', 'red');
                                        }
                                    },
				//此处控制grid中实际每列数据样式
                                cellStyleFormatter: function (args) {
                                    args.$cell.css('backgroundColor', '#grey');
                                    args.$cell.css('color', 'black');
                                    args.$cell.css('border', 'solid 0px #fff');
                                    //args.$cell.css('padding', '1px');
                                }
            		});

};
</script>

</div><!--End Page1--->
<!--———————————————————————————————————————————————————华丽丽的分割线——————————————————————————————————————————————————————————————————————————————--->

 <div data-role="page" data-theme="c" id="page2" data-mini="true"  data-position="fixed">
	    <link href="css/grid.css" rel="stylesheet" type="text/css">
	    <div data-role="header" data-theme="d"  data-position="fixed">
                <a href="index.html" data-ajax="false" data-icon="back">Back</a>
		<h4>总体视图</h4>
            </div>
	<div data-role="content">
		<h4>相关的微博内容：</h4>
		<table id="wijgrid2">
     		</table>
	</div>
	   <div data-role="footer" data-theme="d"  data-position="fixed">		
		  <div data-role="navbar" data-iconpos="left">
		    <ul>
		      <li><a href="#page1" data-icon="grid">原始</a></li>
		      <li><a href="#page2" data-icon="star" class="ui-btn-active">相关</a></li>
		      <li><a href="#page3" data-icon="alert">不相关</a></li>
		    </ul>
		  </div><!-- /navbar -->

           </div>    
<script type="text/javascript">
$(document).bind("pageinit",function(){
	$(document).bind("pagechange",afterchange2);
});
function afterchange2(e,data){
	var name="chufei";	
	var datasource2 = new wijdatasource({
					proxy: new wijhttpproxy({
						url: "http://9.181.142.107:8082/FinalDemo/AndroidController?flag=view",
						dataType: "json",
						key: "items"
					}),
					reader: new wijarrayreader([
						{ name: "用户名", mapping: function (item) { return item.nick} },
						
						{ name: "时间", mapping: function (item) { return item.time}  },
						{ name: "微博内容", mapping: function (item) { return item.text}  }
					])
				});
	$("#wijgrid2").wijgrid({
                		allowSorting: false,
                		allowPaging: true,
               			pageSize: 5,                		
				data: datasource2,
				columns: [
                    			{ allowSizing:true,textAlignment:"center",width:"8%"},
                    			{ textAlignment:"center",width:"8%" },
                    			{ aggregate:"min",allowSizing:true,textAlignment:"center",width:"80%" }
                		],
				columnsAutogenerationMode: "merge",
				showRowHeader:false,
				highlightCurrentCell: false,
				//此处控制grid中实际行数据样式
                                rowStyleFormatter: function (args) {                                        
                                	if ((args.state === wijmo.grid.renderState.rendering) && (args.type & wijmo.grid.rowType.dataAlt)) {
                                           // args.$rows.find("td").css("font-style", "italic");
						//args.$rows.find("td").css('color', 'red');
                                        }
                                    },
				//此处控制grid中实际每列数据样式
                                cellStyleFormatter: function (args) {
                                    args.$cell.css('backgroundColor', '#grey');
                                    args.$cell.css('color', 'black');
                                    args.$cell.css('border', 'solid 0px #fff');
                                    //args.$cell.css('padding', '1px');
                                }
            		});

}
</script>
 
</div><!--End Page2--->
<!--———————————————————————————————————————————————————华丽丽的分割线——————————————————————————————————————————————————————————————————————————————--->

 <div data-role="page" data-theme="c" id="page3" data-mini="true" data-position="fixed">
	    <link href="css/grid.css" rel="stylesheet" type="text/css">
	    <div data-role="header" data-theme="d" data-position="fixed">
                <a href="index.html" data-ajax="false" data-icon="back">Back</a>
		<h4>总体视图</h4>
            </div>
	<div data-role="content">
		<h4>不相关的在这里：</h4>
		<table id="wijgrid3">
     		</table>
	</div>
	   <div data-role="footer" data-theme="d" data-position="fixed">		
		  <div data-role="navbar" data-iconpos="left">
		    <ul>
		      <li><a href="#page1" data-icon="grid">原始</a></li>
		      <li><a href="#page2" data-icon="star">相关</a></li>
		      <li><a href="#page3" data-icon="alert" class="ui-btn-active">不相关</a></li>
		    </ul>
		  </div><!-- /navbar -->

           </div>    
<script type="text/javascript">
$(document).bind("pageinit",function(){
	$(document).bind("pagechange",afterchange3);
});
function afterchange3(e,data){
	var name="chufei";	
	var datasource3 = new wijdatasource({
					proxy: new wijhttpproxy({
						url: "http://9.181.142.107:8082/FinalDemo/AndroidController?flag=view",
						dataType: "json",
						key: "items"
					}),
					reader: new wijarrayreader([
						{ name: "用户名", mapping: function (item) { return item.nick} },
						
						{ name: "时间", mapping: function (item) { return item.time}  },
						{ name: "微博内容", mapping: function (item) { return item.text}  }
					])
				});
	$("#wijgrid3").wijgrid({
                		allowSorting: false,
                		allowPaging: true,
               			pageSize: 5,                		
				data: datasource3,
				columns: [
                    			{ allowSizing:true,textAlignment:"center",width:"8%"},
                    			{ textAlignment:"center",width:"8%" },
                    			{ aggregate:"min",allowSizing:true,textAlignment:"center",width:"80%" }
                		],
				columnsAutogenerationMode: "merge",
				showRowHeader:false,
				highlightCurrentCell: false,
				//此处控制grid中实际行数据样式
                                rowStyleFormatter: function (args) {                                        
                                	if ((args.state === wijmo.grid.renderState.rendering) && (args.type & wijmo.grid.rowType.dataAlt)) {
                                           // args.$rows.find("td").css("font-style", "italic");
						//args.$rows.find("td").css('color', 'red');
                                        }
                                    },
				//此处控制grid中实际每列数据样式
                                cellStyleFormatter: function (args) {
                                    args.$cell.css('backgroundColor', '#grey');
                                    args.$cell.css('color', 'black');
                                    args.$cell.css('border', 'solid 0px #fff');
                                    //args.$cell.css('padding', '1px');
                                }
            		});


}
</script>
 
</div><!--End Page3--->

  
</body>
</html>
