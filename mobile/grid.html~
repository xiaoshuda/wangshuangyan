<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
    <title>Do It</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">


    <!--jQuery References-->
    
    <script src="js/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="js/jquery.mobile-1.2.0.min.js" type="text/javascript"></script>

    <!--Theme-->
    <link href="css/jquery.mobile-1.3.1.css" rel="stylesheet" type="text/css" title="rocket-jqueryui">

    <!--Wijmo Widgets CSS-->
    <link href="css/jquery.wijmo-pro.all.3.20131.7.min.css" rel="stylesheet" type="text/css">

    <!--Wijmo Widgets JavaScript-->
    <script src="js/jquery.wijmo-open.all.3.20131.7.min.js" type="text/javascript"></script>
    <script src="js/jquery.wijmo-pro.all.3.20131.7.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/grid.locale-cn.js" ></script>
    <script type="text/javascript" src="js/jquery.jqGrid.min.js" ></script>
</head>
<body>
<div data-role="page" data-theme="c" id="page1" class="ui-page-active">
<link href="css/grid.css" rel="stylesheet" type="text/css">
            
     <div data-role="header" data-position="fixed" data-theme="d"]>
                <h4>广发的社交媒体分析</h4>
            </div>
     <div data-role="content">
            <table id="wijgrid" style="width:100%;">
     	     </table>

	</div>
	<div data-role="footer" data-theme="d" data-position="fixed">
                <h4>欢迎您向我们提供更多建议～</h4>
         </div>
<script id="scriptInit" type="text/javascript">
$(document).bind("pageinit",function(){
	$(document).bind("pagechange",afterchange1);
});
function afterchange1(e,data){    
/*可用grid数据源**/
var datasource1 = new wijdatasource({
					proxy: new wijhttpproxy({
						url: "http://9.181.142.107:8082/FinalDemo/AndroidController?flag=view",
						dataType: "json",
						key: "items"
					}),
					reader: new wijarrayreader([
						{ name: "用户名",width:"8%", mapping: function (item) { return item.nick} },
						
						{ name: "时间",width:"8%", mapping: function (item) { return item.time}  },
						{ name: "微博内容",width:"80%", mapping: function (item) { return item.text}  }
					])
				});    
var datasource2 ={totalResultsCount:8443565,dataWest:[{Device:'Desktops',Count:5},{Device:'Notebooks',Count:3},{Device:'Tablets',Count:7}],dataEast:[{Device:'Desktops',Count:1},{Device:'Notebooks',Count:6},{Device:'Tablets',Count:8}],dataCentral:[{Device:'Desktops',Count:2},{Device:'Notebooks',Count:4.5},{Device:'Tablets',Count:2.5}]};

var dataWest = datasource2.dataWest;

var datasource3 = [{
					Device: 'MacBook Pro',
					Percent: 46.78,
					Offset: 15
				}, {
					Device: 'iMac',
					Percent: 23.18,
					Offset: 15
				}, {
					Device: 'MacBook',
					Percent: 20.25,
					Offset: 15
				}, {
					Device: 'Mac Pro',
					Percent: 5.41,
					Offset: 15
				}, {
					Device: 'Mac mini',
					Percent: 3.44,
					Offset: 15
				}];
		
 			$("#wijgrid").wijgrid({
                		allowSorting: false,
                		allowPaging: true,
               			pageSize: 12,                		
				data: datasource1,
				columns: [
                    			{ allowSizing:true,textAlignment:"center",width:"8%"},
                    			{ textAlignment:"center",width:"8%" },
                    			{ aggregate:"min",allowSizing:true,textAlignment:"center",width:"80%" }
                		]

            		});
/*  */
/*	//通过ajax返回数据填充grid
	$.ajax({
		type : "POST",
		url  : "weiboJSON",
				//"http://localhost:8080/smarc_web_1/ff",
		data : {Name:name},
		success : function(data) {
			//var result=eval("("+data+")");
			var weibo = eval("("+data+")");
			var weiboData =weibo['items'];
			//dataWest = result.dataWest;
			//dataEast = result.dataEast;
			//dataCentral =result.dataCentral;
 			$("#wijgrid").wijgrid({
                		allowSorting: false,
                		allowPaging: true,
               			pageSize: 12,
                		data: weiboData,
                		columns: [
                    			{ headerText: "姓名",color:"white",allowSizing:true,textAlignment:"center",width:"10%",backgroundColor:"white"},
                    			{ headerText: "内容",color:"green",textAlignment:"center" },
                    			{ headerText: "时间",aggregate:"min",allowSizing:true,textAlignment:"center",width:"10%" },
                    			{ headerText: "Position",visible:false}
                		],
				columnsAutogenerationMode: "merge",
				showRowHeader:false,
				highlightCurrentCell: false,
				//此处控制grid中实际行数据样式
                                rowStyleFormatter: function (args) {                                        
                                	if ((args.state === wijmo.grid.renderState.rendering) && (args.type & wijmo.grid.rowType.dataAlt)) {
                                           // args.$rows.find("td").css("font-style", "italic");
						args.$rows.find("td").css('color', 'red');
                                        }
                                    },
				//此处控制grid中实际每列数据样式
                                cellStyleFormatter: function (args) {
                                    args.$cell.css('backgroundColor', '#grey');
                                    args.$cell.css('color', 'black');
                                    args.$cell.css('border', 'solid 0px #fff');
                                    args.$cell.css('padding', '1px');
                                },
				//此处为event,当表重新设置大小时触发
				columnResized : function (e, args) {
					console.info(this);
					alert("ttt");
     
			        }

            		});
		},
		error:function(data){
			alert("error................");
		},
		dataType : "text"
	});*/
}
    </script>
</div>
</body>
</html>
