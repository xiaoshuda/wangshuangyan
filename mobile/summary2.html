<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
    <title>Do It</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">


    <!--jQuery References-->
    
    <script src="js/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="js/jquery.mobile-1.2.0.min.js" type="text/javascript"></script>

    <!--Theme-->
    <link href="css/jquery.mobile-1.3.1.css" rel="stylesheet" type="text/css" title="rocket-jqueryui">

    <!--Wijmo Widgets CSS-->
    <link href="css/jquery.wijmo-pro.all.3.20131.7.min.css" rel="stylesheet" type="text/css">

    <!--Wijmo Widgets JavaScript-->
    <script src="js/jquery.wijmo-open.all.3.20131.7.min.js" type="text/javascript"></script>
    <script src="js/jquery.wijmo-pro.all.3.20131.7.min.js" type="text/javascript"></script>

</head>
<body>
<div data-role="appviewpage" data-title="设置">
	<div data-role="content">

<form>
	
    <ul data-role="listview" data-inset="true" data-theme="c">
        <li data-role="fieldcontain">
   <label for="datasource">数据来源*：</label>
   <fieldset data-role="controlgroup" data-type="horizontal" data-theme="c">      
        <input type="radio" name="datasource" id="datasourcea" value="sina" checked="checked">
        <label for="datasourcea">新浪微博</label>
        <input type="radio" name="datasource" id="datasourceb" value="tengxun">
        <label for="datasourceb">腾讯微博</label>
        <input type="radio" name="datasource" id="datasourcec" value="baidu">
        <label for="datasourcec">百度新闻</label>
	<input type="radio" name="datasource" id="datasourced" value="shuimu">
        <label for="datasourced">水木论坛</label>
    </fieldset>
<!--
  <legend><p></p>Choose as many snacks as you'd like:</legend>
   <fieldset data-role="controlgroup">
  
      <input type="checkbox" name="checkbox-t" id="checkbox-1a" class="custom" value="1vv" />
      <label for="checkbox-1a">Cheetos</label>
 
      <input type="checkbox" name="checkbox-t" id="checkbox-2a" class="custom" value="2vv"/>
      <label for="checkbox-2a">Doritos</label>
 
      <input type="checkbox" name="checkbox-t" id="checkbox-3a" class="custom" value="3vv" />
      <label for="checkbox-3a">Fritos</label>
 
      <input type="checkbox" name="checkbox-t" id="checkbox-4a" class="custom" value="4vv"/>
      <label for="checkbox-4a">Sun Chips</label>
    </fieldset>-->
</li>
        <li data-role="fieldcontain">
            <label for="keyword">查询关键字*：</label>
            <input type="text" name="keyword" id="keyword" value="" data-mini="true"  placeholder="请输入..." data-clear-btn="true">
        </li>
        <li data-role="fieldcontain">
<label for="topic" class="select">选择主题*：</label>
<select name="topic" id="topic">
    <option value="card">信用卡</option>
    <option value="rush">基金</option>
    <option value="futures">期货</option>
    <option value="finance">理财产品</option>
</select>
            
        </li>
        <li data-role="fieldcontain">
            <label for="slider2">期望值*：</label>
            <input type="range" name="wanted" id="slider2" value="0" min="0" max="100" data-highlight="true" data-mini="true">
        </li>
        <li data-role="fieldcontain">
            <label for="suggest">是否愿意提供建议：</label>
            <select name="suggest" id="suggest" data-role="slider">
                <option value="off">Off</option>
                <option value="on">On</option>
            </select>
        </li>
        <li class="ui-body ui-body-b">
            <fieldset class="ui-grid-a">
                    <div class="ui-block-a"><button data-theme="d" id="cancle" value="取消">取消</button></div>
                    <div class="ui-block-b"><button data-theme="b" id="submit">提交</button></div>
            </fieldset>
        </li>
	
    </ul>
</form>

<div data-role="footer" data-theme="c">		
	<div data-role="navbar" data-iconpos="left">
		<ul>
			<li><a href="w2.setting.html" data-role="button" data-icon="plus">源数据配置</a></li>
			<li><a href="w2.setting2.html" data-role="button" data-icon="arrow-u">分析配置</a></li>
			<li><a href="#" data-role="button" data-icon="arrow-d">性能配置</a></li>
			<li><a href="#" data-role="button" data-icon="arrow-d">报告配置</a></li>
		</ul>
	</div><!-- /navbar -->
</div>

<!----------------------------华丽丽的分割线------------------------------向后台传递信息，并以grid/barChart/bubbleChart形式展现数据----------------------------->
  



	<script type="text/javascript">
		$(document).one("wijappviewpageinit", function () {
			//点击取消按钮，清空表单中所有数据			
			$("#cancle").click(function () {
				//取得各表单元素的值
				alert("this........ ");
				$("#keyword").val("");
				$("#topic").val("");
				$("#slider2").val("0");

				//获得复选框的值
				var str="";  
				$(":input[name='checkbox-t'][checked]").each(function(){  
					str+=$(this).val()+"/r/n";  
					//alert($(this).val());  

				});  

				//$("[name='checkbox-t']:checkbox:checked").each(function(){
				//	str +=$(this).val()+"\r\n";

				//});
				alert(str);

				//清空复选框
				$(":checkbox").each(function(){  
					$(this).removeAttr("checked");
				});

				});

			//点击提交，通过ajax将表单中数据传递到后台中
			$("#submit").click(function(){
				//数据来源、关键字、主题、期望值、是否建议
				var datasource = $(":radio[name='datasource']").val();				
				var keyword = $("#keyword").val();
				var topic = $("#topic").val();
				var wanted = $("#slider2").val();
				var isSuggest = $("#suggest").val();
				$.ajax({
					type : "POST",
					url  : "data.json",
						//"userlogin!login.action",若为外网"http://ws.geonames.org/searchJSON",则使用jsonp跨域请求
					data : createQuery(),
					success : function(data) {
						if (data.message) {
							if (data.message.statusCode == 200) {
								window.location.href = "welcome.html";
							} else {
//							$("#info").html(data.message.content);
//							$("#info").show();
							alert(data.message.content);
							}
						}
					},
					dataType : "json"	
	
				});

			});
//构成传递给后台的用户参数信息
/*function createQuery() {
	var str = "username=" + $("#username").val() + "&";
	str += "password=" + $("#password").val();
	return str;
}*/
			
		});
	</script>


	</div>
</div>
</div>
</body>
</html>
