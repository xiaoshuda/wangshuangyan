<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
    <title>Do It</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--jQuery References-->
    
    <script src="js/jquery-1.8.2.min.js" type="text/javascript"></script>
    <script src="js/jquery.mobile-1.2.0.min.js" type="text/javascript"></script>

    <!--Theme-->
    <link href="css/jquery.mobile-1.3.1.css" rel="stylesheet" type="text/css" title="rocket-jqueryui">

    <!--Wijmo Widgets CSS-->
    <link href="css/jquery.wijmo-pro.all.3.20131.7.min.css" rel="stylesheet" type="text/css">

    <!--Wijmo Widgets JavaScript-->
    <script src="js/jquery.wijmo-open.all.3.20131.7.min.js" type="text/javascript"></script>
    <script src="js/jquery.wijmo-pro.all.3.20131.7.min.js" type="text/javascript"></script>
   
</head>
<body>
<div data-role="page" data-theme="c" id="l1">

	<div data-role="appviewpage" data-title="Overview">
            <div data-role="header" data-theme="d">
                <a href="index-en.html" data-ajax="false" data-icon="back">Back</a>
		<h4>Subject distribution</h4>
            </div>
            <div data-role="content" data-theme="b">
			<div id="wijbubblechart" data-role="wijbubblechart">
			</div>
			<div class="togbuttons">
				<button id="Btn1910" data-theme="c">
					1910</button>
				<button id="Btn2010">
					2010</button>
			</div>
	    </div>
	   <div data-role="footer" data-theme="d">
                <h4>this is footer～</h4>
           </div>
	</div>

<script type="text/javascript">
		$(document).bind('pageinit',function(){ 
			$(document).bind( "pagebeforechange", beforechange);
			$(document).bind("pagechange",afterchange);
		});
		//转场成功之前触发，
		function beforechange( e, data ) {
		}
		function afterchange(e,data){	
				var data2010 = [{
					label: "Credit card",
					legendEntry: true,
					data: { y: [73], x: [7931], y1: [1340] }
				}, {
					label: "Loan",
					legendEntry: true,
					data: { y: [65], x: [2972], y1: [1150] }
				}, {
					label: "Futures",
					legendEntry: true,
					data: { y: [78], x: [42066], y1: [309] }
				}, {
					label: "Benefit",
					legendEntry: true,
					data: { y: [83], x: [30866], y1: [126] }
				}, {
					label: "Returns",
					legendEntry: true,
					data: { y: [69], x: [14318], y1: [140] }
				}, {
					label: "Equity",
					legendEntry: true,
					data: { y: [48], x: [374], y1: [72] }
				}, {
					label: "Online bank",
					legendEntry: true,
					data: { y: [52], x: [9284], y1: [43] }
				}, {
					label: "Financial products",
					legendEntry: true,
					data: { y: [77], x: [11754], y1: [112] }
				}, {
					label: "Employee benefits",
					legendEntry: true,
					data: { y: [80], x: [31217], y1: [61] }
				}];

				var data1910 = [{
					label: "Credit card",
					legendEntry: true,
					data: { y: [32], x: [810], y1: [423] }
				}, {
					label: "Loan",
					legendEntry: true,
					data: { y: [23], x: [692], y1: [249] }
				}, {
					label: "Futures",
					legendEntry: true,
					data: { y: [52], x: [7914], y1: [93] }
				}, {
					label: "Benefit",
					legendEntry: true,
					data: { y: [40], x: [1883], y1: [50] }
				}, {
					label: "Returns",
					legendEntry: true,
					data: { y: [36], x: [1842], y1: [80] }
				}, {
					label: "Equity",
					legendEntry: true,
					data: { y: [32], x: [602], y1: [11] }
				}, {
					label: "Online bank",
					legendEntry: true,
					data: { y: [34], x: [2864], y1: [5.9] }
				}, {
					label: "Financial products",
					legendEntry: true,
					data: { y: [27], x: [2102], y1: [15] }
				}, {
					label: "Employee benefits",
					legendEntry: true,
					data: { y: [54], x: [6489], y1: [42] }
				}];

				$("#wijbubblechart").wijbubblechart("beginUpdate").wijbubblechart({
					showChartLabels: false,
					axis: {
						y: {
							text: "Life Expectancy",
							autoMin: false,
							autoMax: false,
							min: 0,
							max: 100
						},
						x: {
							text: "Income",
							autoMin: false,
							autoMax: false,
							min: 0,
							max: 45000
						}
					},
					hint: {
						content: function () {
							return "" + this.data.label + ":  " + this.data.y1 + "person  focus";
						}
					},
					header: {
						text: "Subject distribution between 1910 and 2010"
					},
					seriesList: data2010
				}).wijbubblechart("endUpdate");


				$("#Btn1910").click(function () {
					$("#wijbubblechart")
					.wijbubblechart("option", "header", { text: "Subject distribution in 1910" })
					.wijbubblechart("option", "seriesList", data1910);

				});
				$("#Btn2010").click(function () {
					$("#wijbubblechart")
					.wijbubblechart("option", "header", { text: "Subject distribution in 2010" })
					.wijbubblechart("option", "seriesList", data2010);

				});
		}

</script>
</div><!--End Page--->
</body>
</html>

